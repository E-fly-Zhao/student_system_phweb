<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/signup.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-3.2.1.js"></script>
    <script src="js/json3.js"></script>
</head>
<body>
    <div class="login-back">
        <div class="login-card">
            <form>
                <div class="login-title">
                    <h1>注册</h1>
                    <div class="input-item">
                        <div class="studentId">
                            <span>学号</span>
                            <br>
                            <input type="text" name="" id="studentId" placeholder="请输入学号">
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="name">
                            <span>姓名</span>
                            <br>
                            <input type="text" name="" id="name" placeholder="请输入姓名">
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="identificationId">
                            <span>身份证号</span>
                            <br>
                            <input type="text" name="" id="identificationId" placeholder="请输入身份证号">
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="password">
                            <span>密码</span>
                            <br>
                            <input type="password" name="" id="password" placeholder="请输入密码">
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="login-submit">
                            <button type="button" onclick="signup()">注册</button>
                        </div>
                    </div>
                </div>
            </form>

            <script>
                function signup() {
                    sessionStorage.clear();
                    let identificationId = document.getElementById("identificationId").value;
                    let name = document.getElementById("name").value;
                    let password = document.getElementById("password").value;
                    let studentId = document.getElementById("studentId").value;
                    $.ajax({
                        type: "POST",
                        url: "http://124.71.195.153:8111/user/register",
                        data: {
                            identificationId: identificationId,
                            name: name,
                            password: password,
                            studentId: studentId
                        },
                        success:function (data) {
                            var tt = JSON.stringify(data);
                            alert("注册成功!");
                            window.location.href = "login.html";
                        },
                        error:function (data) {
                            var tt = JSON.stringify(data);
                            alert(tt);
                        }
                    });
                }
            </script>
        </div>
    </div>
</body>
</html>